FROM python:3.13-slim

WORKDIR /app

ENV INSTALL_EXTRAS=.
ENV PORT=8000
ENV LOG_LEVEL=info
ENV DATABASE_URL=""
ENV SECRET_KEY=""
ENV ENVIRONMENT=production
ENV ALGORITHM=HS256
ENV ACCESS_TOKEN_EXPIRE_MINUTES=1
ENV REFRESH_TOKEN_EXPIRE_DAYS=7
ENV DB_PORT=5432

EXPOSE ${PORT}

COPY setup.py .
RUN pip install --no-cache-dir ${INSTALL_EXTRAS}

COPY . .

CMD python server.py
